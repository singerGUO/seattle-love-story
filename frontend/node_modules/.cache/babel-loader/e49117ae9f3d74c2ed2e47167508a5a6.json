{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\G2945\\\\WebstormProjects\\\\todolist\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\G2945\\\\WebstormProjects\\\\todolist\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar APIURL = '/api/todos/';\nexport function getTodos() {\n  return _getTodos.apply(this, arguments);\n}\n\nfunction _getTodos() {\n  _getTodos = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", fetch(APIURL).then(function (resp) {\n              if (!resp.ok) {\n                if (resp.status >= 400 && resp.status < 500) {\n                  return resp.json().then(function (data) {\n                    var err = {\n                      whatever: data.message\n                    };\n                    throw err;\n                  });\n                } else {\n                  var err = {\n                    whatever: 'Please try again later, server is not responding'\n                  };\n                  throw err;\n                }\n              }\n\n              return resp.json();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getTodos.apply(this, arguments);\n}\n\nexport function createTodo(_x) {\n  return _createTodo.apply(this, arguments);\n}\n\nfunction _createTodo() {\n  _createTodo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(val) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", fetch(APIURL, {\n              method: 'post',\n              headers: new Headers({\n                'Content-Type': 'application/json'\n              }),\n              body: JSON.stringify({\n                name: val\n              })\n            }).then(function (resp) {\n              if (!resp.ok) {\n                if (resp.status >= 400 && resp.status < 500) {\n                  return resp.json().then(function (data) {\n                    var err = {\n                      whatever: data.message\n                    };\n                    throw err;\n                  });\n                } else {\n                  var err = {\n                    whatever: 'Please try again later, server is not responding'\n                  };\n                  throw err;\n                }\n              }\n\n              return resp.json();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _createTodo.apply(this, arguments);\n}\n\nexport function removeTodo(_x2) {\n  return _removeTodo.apply(this, arguments);\n}\n\nfunction _removeTodo() {\n  _removeTodo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(id) {\n    var deleteURL;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            deleteURL = APIURL + id;\n            fetch(deleteURL, {\n              method: 'delete'\n            }).then(function (resp) {\n              if (!resp.ok) {\n                if (resp.status >= 400 && resp.status < 500) {\n                  return resp.json().then(function (data) {\n                    var err = {\n                      whatever: data.message\n                    };\n                    throw err;\n                  });\n                } else {\n                  var err = {\n                    whatever: 'Please try again later, server is not responding'\n                  };\n                  throw err;\n                }\n              }\n\n              return resp.json();\n            });\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _removeTodo.apply(this, arguments);\n}\n\nexport function updateTodo(_x3) {\n  return _updateTodo.apply(this, arguments);\n}\n\nfunction _updateTodo() {\n  _updateTodo = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(todo) {\n    var updateURL;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            updateURL = APIURL + todo._id;\n            return _context4.abrupt(\"return\", fetch(updateURL, {\n              method: 'put',\n              headers: new Headers({\n                'Content-Type': 'application/json'\n              }),\n              //set it to false\n              body: JSON.stringify({\n                completed: !todo.completed\n              })\n            }).then(function (resp) {\n              if (!resp.ok) {\n                if (resp.status >= 400 && resp.status < 500) {\n                  return resp.json().then(function (data) {\n                    var err = {\n                      whatever: data.message\n                    };\n                    throw err;\n                  });\n                } else {\n                  var err = {\n                    whatever: 'Please try again later, server is not responding'\n                  };\n                  throw err;\n                }\n              }\n\n              return resp.json();\n            }));\n\n          case 2:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _updateTodo.apply(this, arguments);\n}","map":{"version":3,"sources":["C:\\Users\\G2945\\WebstormProjects\\todolist\\frontend\\src\\api.js"],"names":["APIURL","getTodos","fetch","then","resp","ok","status","json","data","err","whatever","message","createTodo","val","method","headers","Headers","body","JSON","stringify","name","removeTodo","id","deleteURL","updateTodo","todo","updateURL","_id","completed"],"mappings":"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","sourcesContent":["const APIURL = '/api/todos/';\r\n\r\nexport async function getTodos() {\r\n    return fetch(APIURL)\r\n        .then((resp) => {\r\n            if (!resp.ok) {\r\n                if (resp.status >= 400 && resp.status < 500) {\r\n                    return resp.json().then(data => {\r\n                        let err = {whatever: data.message};\r\n                        throw err;\r\n                    })\r\n                } else {\r\n                    let err = {whatever: 'Please try again later, server is not responding'}\r\n                    throw err;\r\n                }\r\n            }\r\n            return resp.json();\r\n        })\r\n}\r\n\r\nexport async function createTodo(val) {\r\n    return fetch(APIURL, {\r\n        method: 'post',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json',\r\n        }),\r\n        body: JSON.stringify({name: val})\r\n\r\n\r\n    })\r\n        .then((resp) => {\r\n            if (!resp.ok) {\r\n                if (resp.status >= 400 && resp.status < 500) {\r\n                    return resp.json().then(data => {\r\n                        let err = {whatever: data.message};\r\n                        throw err;\r\n                    })\r\n                } else {\r\n                    let err = {whatever: 'Please try again later, server is not responding'}\r\n                    throw err;\r\n                }\r\n            }\r\n            return resp.json();\r\n        })\r\n}\r\n\r\nexport async function removeTodo(id) {\r\n    const deleteURL = APIURL + id;\r\n    fetch(deleteURL, {\r\n        method: 'delete'\r\n    })\r\n        .then((resp) => {\r\n            if (!resp.ok) {\r\n                if (resp.status >= 400 && resp.status < 500) {\r\n                    return resp.json().then(data => {\r\n                        let err = {whatever: data.message};\r\n                        throw err;\r\n                    })\r\n                } else {\r\n                    let err = {whatever: 'Please try again later, server is not responding'}\r\n                    throw err;\r\n                }\r\n            }\r\n            return resp.json();\r\n        })\r\n}\r\n\r\nexport async function updateTodo(todo) {\r\n    const updateURL = APIURL + todo._id;\r\n\r\n    return fetch(updateURL, {\r\n        method: 'put',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json',\r\n        }),\r\n        //set it to false\r\n        body: JSON.stringify({completed: !todo.completed})\r\n\r\n    })\r\n        .then((resp) => {\r\n            if (!resp.ok) {\r\n                if (resp.status >= 400 && resp.status < 500) {\r\n                    return resp.json().then(data => {\r\n                        let err = {whatever: data.message};\r\n                        throw err;\r\n                    })\r\n                } else {\r\n                    let err = {whatever: 'Please try again later, server is not responding'}\r\n                    throw err;\r\n                }\r\n            }\r\n            return resp.json();\r\n        })\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}